#landscape
  background: #fff
  overflow: hidden
  -webkit-touch-callout: none
  @include user-select(none)

.layer
  position: absolute
  width: 1320px
  background-repeat: no-repeat

  &.one
    right: 120px
    top: 20px
    height: 220px

  &.two
    left: -90px
    top: 90px
    height: 320px
    background-size: auto 260px

  &.three
    top: 45px
    left: -50px
    height: 260px
    background-size: auto 328px

  &.four
    top: 117px
    left: -78px
    height: 200px
    background-size: auto 250px

  &.five
    bottom: 0
    height: 330px
    left: 100px
    background-size: auto 410px

  &:before,
  &:after
    background-repeat: no-repeat
    content: " "
    position: absolute
    bottom: 0
    top: 0
    width: 100%
    @include transform(scaleX(-1))
    filter: FlipH
    -ms-filter: "FlipH"

  &:before
    left: 1220px /* avoid stitching errors */

  &:after
    right: -1319px /* avoid stitching errors */

#landscape-layer-1,
#landscape-layer-1:before,
#landscape-layer-1:after
  background-image: url('/layers/layer1.svg')
  // background-position: 50% -73px
  background-size: auto 428px

#landscape-layer-2,
#landscape-layer-2:before,
#landscape-layer-2:after
  background-image: url('/layers/layer2.svg')

#landscape-layer-2:before
  background-position: 124% -23px //landfill

#landscape-layer-2:after
  @include transform(none)
  @include filter(none)

#landscape-layer-3,
#landscape-layer-3:before,
#landscape-layer-3:after
  background-image: url('/layers/layer3.svg')

#landscape-layer-3:before
  // background-position: -366px -56px
  // left: -1318px

#landscape-layer-3:after
  // background-position: 169px -39px
  background-size: auto 421px

#landscape-layer-4,
#landscape-layer-4:before,
#landscape-layer-4:after
  background-image: url('/layers/layer4.svg')
  // background-position: 0 -56px
  // background-size: auto 434px

#landscape-layer-4:before
  // background-position: -366px -56px
  // left: -1318px

#landscape-layer-4:after
  // background-position: 169px -39px
  // background-size: auto 421px

#landscape-layer-5,
#landscape-layer-5:before,
#landscape-layer-5:after
  background-image: url('/layers/layer5.svg')
  // background-position: 0 -41px
  // background-size: auto 378px

#landscape-layer-5:before
  // left: -1316px

#landscape-layer-5:after
  // background-position: -300px -41px

/* === set z-indexing === */

#landscape-layer-1
  z-index: 1
  *
    z-index: 2

#landscape-layer-2
  z-index: 3
  *
    z-index: 4

#landscape-layer-3
  z-index: 5
  *
    z-index: 6

#landscape-layer-4
  z-index: 7
  *
    z-index: 8

#landscape-layer-5
  z-index: 9
  *
    z-index: 10

.layer > *, i
  background-position: 50% 100%
  background-repeat: no-repeat
  background-size: 100% auto
  position: absolute
  // height: 300px /* default height (landscape height) */
  margin-right: 4px // fix icon spacing

i
  opacity: 0
  @include transition(opacity .3s)

  &.is-active,
  &.persist
    opacity: 1

  &:after
    background-position: 50% 100%
    background-repeat: no-repeat
    content: " " /* is this smart ? */
    position: absolute
    bottom: 0
    top: 0
    left: 0
    right: 0

/* === Airplanes === */

.airplane
  background-image: url(/svgs/airplane.svg)
  height: 20px

  &[data-value="1"]
    top: 0
    left: 395px
    width: 25px

  &[data-value="2"]
    top: -5px
    left: 685px
    width: 20px

  &[data-value="3"]
    top: 0
    left: 835px
    width: 19px

  &[data-value="4"]
    top: 5px
    left: 335px
    width: 18px

  &[data-value="5"]
    top: -25px
    left: 530px
    width: 16px

.algae
  background-image: url(/svgs/algae.svg)
  top: 70px
  left: 570px
  width: 20px
  height: 20px
  @include transform(scale(1))
  @include transition(transform .2s)

  &[data-value="3"]
    @include transform(scale(1.2))

  &[data-value="4"],
  &[data-value="5"]
    @include transform(scale(1.5))


.bike
  background-image: url(/svgs/bike.svg)
  bottom: 61px
  width: 18px
  height: 18px

  &[data-value="1"]
    bottom: 60px
    left: 566px

  &[data-value="2"]
    left: 260px

  &[data-value="3"]
    bottom: 55px
    left: 760px

  &[data-value="4"]
    left: 216px

.biocrops
  position: absolute

  i
    display: inline-block
    position: relative

#biocrops-layer-3
  bottom: 96px
  left: 760px
  height: 18px

  .biocrop
    width: 6px
    height: 18px
    background-image: url(/svgs/biocrop_layer3.svg)

#biocrops-layer-4
  bottom: 36px
  left: 152px
  height: 26px

  .biocrop
    background-image: url(/svgs/biocrop_layer4.svg)
    width: 8px
    height: 25px

/* === bioenergy === */

.bioenergy
  background-image: url(/svgs/bioenergy_powerstation.svg)

  &.coal
    background-image: url(/svgs/coal_powerstation.svg)

  /* on layer 1 */

  &[data-value="1"]
    bottom: 254px
    left: 975px
    width: 20px

  &[data-value="3"]
    bottom: 244px
    left: 640px
    width: 14px

  &[data-value="5"]
    bottom: 254px
    left: 940px
    width: 14px

  &[data-value="7"]
    bottom: 250px
    left: 700px
    width: 18px

  &[data-value="9"]
    top: 25px
    left: 785px
    width: 17px
    height: 15px

  &[data-value="10"]
    bottom: 254px
    left: 838px
    width: 16px

  /* on layer 2 */

  &[data-value="2"]
    bottom: 173px
    left: 460px
    width: 47px

  &[data-value="4"]
    bottom: 190px
    left: 1105px
    width: 24px

  &[data-value="6"]
    bottom: 190px
    left: 980px
    width: 37px

  &[data-value="8"]
    bottom: 185px
    left: 740px
    width: 44px

/* === Boats === */

.boat
  background-image: url(/svgs/boat.svg)
  top: 24px
  width: 30px
  height: 30px

  &.green
  /* what goes here? */

  &[data-value="1"]
    left: 440px

  &[data-value="2"]
    left: 480px

  &[data-value="3"]
    left: 520px

  &[data-value="4"]
    left: 560px

  &[data-value="5"]
    left: 600px

/* === Boiler === */

.boiler
  background-size: 30% auto
  bottom: 140px
  left: 922px
  width: 34px

  &.electric
    background-image: url(/svgs/electric_white.svg)

  &.gas
    background-image: url(/svgs/gas_white.svg)

/* === Buses === */

.bus
  background-image: url(/svgs/bus.svg)
  bottom: 61px
  width: 44px
  height: 26px

  &.electric
    &:after
      background-image: url(/svgs/electric.svg)
      background-size: 30% auto
      margin-bottom: 2px

  &.hydrogen
    &:after
      background-image: url(/svgs/hydrogen.svg)
      background-size: 45% auto
      margin-bottom: 2px
      margin-left: 1px

  &[data-value="1"]
    left: 452px

  &[data-value="2"]
    left: 377px

  &[data-value="3"]
    bottom: 55px
    left: 713px

  &[data-value="4"]
    bottom: 50px
    left: 875px

/* === Cars === */

.car
  background-image: url(/svgs/car.svg)
  bottom: 61px
  width: 24px
  height: 14px

  &.electric
    &:after
      background-image: url(/svgs/electric.svg)
      background-size: 30% auto
      margin-bottom: 2px

  &.hydrogen
    &:after
      background-image: url(/svgs/hydrogen.svg)
      background-size: 45% auto
      margin-bottom: 2px
      margin-left: 1px

  &[data-value="1"]
    left: 285px

  &[data-value="2"]
    bottom: 57px
    left: 674px

  &[data-value="3"]
    bottom: 58px
    left: 607px

  &[data-value="4"]
    left: 103px

  &[data-value="5"]
    left: 426px

  &[data-value="6"]
    left: 43px

  &[data-value="7"]
    bottom: 52px
    left: 837px

  &[data-value="8"]
    bottom: 60px
    left: 538px

  &[data-value="9"]
    left: 314px

/* === CCS === */

.ccs
  background-image: url(/svgs/ccs_powerstation.svg)

  /* in layer 1 */

  &[data-value="1"]
    bottom: 244px
    left: 1008px
    width: 30px

  &[data-value="3"]
    bottom: 245px
    left: 790px w
    idth: 27px

  &[data-value="5"]
    bottom: 245px
    left: 1053px
    width: 27px

  /* on layer 2 */

  &[data-value="2"]
    bottom: 161px
    left: 616px
    width: 60px

  &[data-value="4"]
    bottom: 174px
    left: 1057px
    width: 49px

/* === Commercial Fans === */

.commercial-fan
  background-image: url(/svgs/commercial_fan_green.svg)

  &[data-value="1"],
  &[data-value="3"],
  &[data-value="5"],
  &[data-value="6"]
    background-image: url(/svgs/commercial_fan_grey.svg)

  &[data-value="1"]
    bottom: 233px
    left: 106px
    width: 13px
    height: 7px

  &[data-value="2"]
    bottom: 238px
    left: 184px
    width: 18px
    height: 8px

  &[data-value="3"]
    bottom: 177px
    left: 141px
    width: 20px
    height: 9px

  &[data-value="4"]
    bottom: 176px
    left: 260px
    width: 15px
    height: 7px

  &[data-value="5"]
    bottom: 199px
    left: 227px
    width: 17px
    height: 8px

  &[data-value="6"]
    bottom: 192px
    left: 42px
    width: 16px
    height: 7px

/* === Commercial Turbines === */

.commercial-turbine
  background-image: url(/svgs/turbine_land.svg)

  &[data-value="1"]
    bottom: 244px
    left: 114px
    width: 13px

  &[data-value="2"]
    bottom: 249px
    left: 198px
    width: 18px

  &[data-value="3"]
    bottom: 185px
    left: 155px
    width: 20px

  &[data-value="4"]
    bottom: 182px
    left: 278px
    width: 15px

  &[data-value="5"]
    bottom: 209px
    left: 237px
    width: 17px

  &[data-value="6"]
    bottom: 200px
    left: 50px
    width: 16px

/* === Cows === */

.cow
  background-image: url(/svgs/cow.svg)
  bottom: 36px
  width: 46px
  height: 34px

  &[data-value="1"]
    left: 386px

  &[data-value="2"]
    left: 88px

  &[data-value="3"]
    bottom: 30px
    left: 640px

  &[data-value="4"]
    bottom: 34px
    left: 526px

  &[data-value="5"]
    left: 26px

  &[data-value="2"],
  &[data-value="4"],
  &[data-value="5"]
    @include transform(scaleX(-1))
    filter: FlipH
    -ms-filter: "FlipH"

/* === Dams === */

.dam
  background-image: url(/svgs/hydo_dam.svg)
  height: 50px

  &[data-value="1"]
    top: 52px
    left: 666px
    width: 133px

  &[data-value="2"]
    top: 52px
    left: 966px
    width: 133px

.factory
  bottom: 144px
  left: 1150px
  position: absolute

  i
    display: inline-block
    position: relative

    &.factory-building
      background-image: url(/svgs/factory.svg)

  &[data-value="1"]
    .factory-building
      width: 80px

  &[data-value="2"]
    .factory-building
      width: 120px

  &[data-value="3"]
    .factory-building
      width: 104px

  &[data-value="4"]
    .factory-building
      width: 52px

  &[data-value="5"]
    .factory-building
      display: none

/* === Geothermal === */

.geothermal
  background-image: url(/svgs/geothermal.svg)

  /* on layer 1 */

  &[data-value="2"]
    bottom: 231px
    left: 881px
    width: 4px

  &[data-value="4"]
    bottom: 231px
    left: 779px
    width: 4px

  /* on layer 2 */

  &[data-value="1"]
    bottom: 128px
    left: 700px
    width: 10px

  &[data-value="3"]
    bottom: 130px
    left: 516px
    width: 8px

  &[data-value="5"]
    bottom: 130px
    left: 851px
    width: 10px

/* === Home Fan === */

.home-fan
  background-image: url(/svgs/home_fan.svg)
  bottom: 23px
  left: 698px
  width: 36px
  height: 42px

/* === Imports === */

.imports
  background: #fff
  height: 20px
  left: -320px
  position: absolute
  @include transition(all 0.3s ease-in)

  &:before
    border: 10px solid transparent
    border-left-color: #fff
    content: " "
    position: absolute
    right: -20px

  &:after
    background-repeat: no-repeat
    background-size: 100% auto
    bottom: 4px
    content: " "
    height: 12px
    position: absolute
    right: 0
    width: 8px

/* Electricity Imports */

.electricity-imports
  top: 70px
  left: 0

  &:after
    background-image: url(/svgs/electric.svg)

  &[data-value="1"]
    width: 0px

  &[data-value="2"]
    width: 0px

  &[data-value="3"]
    width: 410px

  &[data-value="4"]
    width: 500px

  &[data-value="5"]
    width: 680px

/* Bioenergy Imports */

.bioenergy-imports
  top: 90px
  left: 0

  &:after
    background-image: url(/svgs/bioenergy.svg)

  &[data-value="1"]
    width: 0px

  &[data-value="2"]
    width: 0px

  &[data-value="3"]
    width: 410px

  &[data-value="4"]
    width: 500px

  &[data-value="5"]
    width: 680px

/* === Insulation === */

.insulation
  border-left: 6px solid rgb(90, 99, 120)
  border-right: 6px solid rgb(90, 99, 120)
  bottom: 30px
  display: inline-block
  height: 183px
  left: 733px
  position: absolute
  width: 222px
  @include transition(all 0.3s ease-in)

  &[data-value="2"]
    border-width: 10px

  &[data-value="3"]
    border-width: 10px

  &[data-value="4"]
    border-width: 10px

  &[data-value="5"]
    border-width: 16px

/* === Light Bulb === */

.bulb
  background-image: url(/svgs/bulb.svg)
  bottom: 180px
  left: 838px
  width: 18px

  &.led
    background-image: url(/svgs/bulb_led.svg)


.landfill
  background-image: url(/svgs/landfill_high.svg)
  top: 70px
  left: 1270px
  width: 57px
  height: 40px
  @include transition(top .2s)

  .ie9 &
    left: 1120px

  &[data-value="1"]
    top: 70px

  &[data-value="2"]
    top: 80px

  &[data-value="3"]
    top: 90px

  &[data-value="4"]
    top: 100px

.lorry
  background-image: url(/svgs/lorry.svg)
  bottom: 61px
  width: 30px
  height: 22px

  &[data-value="1"]
    left: 341px

  &[data-value="2"]
    bottom: 60px
    left: 503px

  &[data-value="3"]
    bottom: 58px
    left: 636px

  &[data-value="4"]
    left: 141px

  &[data-value="5"]
    left: 180px

  &[data-value="6"]
    bottom: 54px
    left: 785px

.meter
  height: 8px
  width: 42px
  display: block
  background-image: url(/svgs/dial.svg)
  @include transition(transform .3s ease-in)
  @include transform-origin(90% 50%)
  background-size: 100% 100%

.commercial-meter
  bottom: 90px
  left: 153px

  &[data-value="1"]
    @include transform(rotate(90deg))

  &[data-value="2"]
    @include transform(rotate(112.5deg))

  &[data-value="3"]
    @include transform(rotate(99deg))

  &[data-value="4"]
    @include transform(rotate(81deg))

  &[data-value="5"]
    @include transform(rotate(63deg))

.home-meter
  bottom: 60px
  left: 775px

  &[data-value="1"]
    @include transform(rotate(180deg))

  &[data-value="2"]
    @include transform(rotate(144deg))

  &[data-value="3"]
    @include transform(rotate(119deg))

  &[data-value="4"]
    @include transform(rotate(70deg))

  &[data-value="5"]
    @include transform(rotate(49deg))

.nuclear
  background-image: url(/svgs/nuclear_powerstation.svg)

  /* on layer 1 */

  &[data-value="1"]
    bottom: 254px
    left: 741px
    width: 22px

  &[data-value="3"]
    bottom: 254px
    left: 860px
    width: 14px

  &[data-value="5"]
    bottom: 254px
    left: 900px
    width: 18px

  /* on layer 2 */

  &[data-value="2"]
    bottom: 179px
    left: 541px
    width: 40px

  &[data-value="4"]
    bottom: 190px
    left: 880px
    width: 28px

.cooker
  background-size: 30% auto
  position: absolute

  i
    @extend .persist

  .hob
    background-size: 60% auto
    position: absolute

  &[data-value="3"]
    .hob.left
      background-image: url(/svgs/electric_white.svg)

.home-cooker
  bottom: 66px
  left: 880px
  width: 31px
  height: 50px

  &[data-value="3"]
    .hob.left
      background-image: url(/svgs/electric.svg)

  .hob
    bottom: 37px
    width: 10px

    &.left
      background-image: url(/svgs/gas.svg)
      left: 5px

    &.right
      background-image: url(/svgs/electric.svg)
      left: 18px

  .oven
    background-image: url(/svgs/electric.svg)
    width: 11px
    height: 16px
    bottom: 3px
    left: 10px

.commercial-cooker
  bottom: 99px
  left: 80px
  width: 18px

  .oven
    width: 10px
    background-image: url(/svgs/electric_white.svg)

  .hob
    bottom: 20px
    width: 9px

    &.left
      background-image: url(/svgs/gas_white.svg)
      left: -4px

    &.right
      background-image: url(/svgs/electric_white.svg)
      left: 5px

/* === Recycling === */

.recycling
  bottom: 64px
  left: 1085px
  height: 40px

  i
    display: inline-block
    position: relative

  .bin
    background-image: url(/svgs/recycling.svg)
    width: 27px
    height: 40px

/* === Solar === */

/* Home */

.home-solar
  bottom: 220px
  position: absolute
  height: 37px

  &.left
    left: 790px

  &.right
    left: 848px

  .solar
    background-image: url(/svgs/home_solar.svg)
    display: inline-block
    position: relative
    width: 25px
    height: 37px

    &[data-value="1"]
    &[data-value="2"]
    &[data-value="3"]

/* Commercial */

.commercial-solar
  .solar
    background-image: url(/svgs/commercial_solar.svg)

  &.left
    .solar
      [data-value="1"]
        bottom: 244px
        left: 103px
        width: 10px

      [data-value="2"]
        bottom: 249px
        left: 185px
        width: 11px

      [data-value="3"]
        bottom: 185px
        left: 141px
        width: 11px

      [data-value="4"]
        bottom: 182px
        left: 268px
        width: 9px

      [data-value="5"]
        bottom: 209px
        left: 227px
        width: 10px

      [data-value="6"]
        bottom: 200px
        left: 40px
        width: 10px

  &.right
    .solar
      [data-value="1"]
        bottom: 244px
        left: 128px
        width: 10px

      [data-value="2"]
        bottom: 249px
        left: 218px
        width: 11px

      [data-value="3"]
        bottom: 185px
        left: 177px
        width: 11px

      [data-value="4"]
        bottom: 182px
        left: 294px
        width: 9px

      [data-value="5"]
        bottom: 209px
        left: 255px
        width: 10px

      [data-value="6"]
        bottom: 200px
        left: 66px
        width: 10px

/* Field */

.solar-field
  bottom: 124px
  left: 720px
  position: absolute

  i
    &.solar
      background-image: url(/svgs/field_solar.svg)
      display: inline-block
      position: relative
      width: 17px

      &[data-value="1"]
      &[data-value="2"]
      &[data-value="3"]

/* === Trains === */

.train
  bottom: 97px
  left: 445px
  position: absolute

  i
    display: inline-block
    position: relative

    &.train-left
      background-image: url(/svgs/train_left.svg)
      width: 40px

      &.electric:after
        background-image: url(/svgs/electric.svg)
        background-position: 28px 100%
        background-size: 18% auto
        margin-bottom: 3px

    &.train-right
      background-image: url(/svgs/train_right.svg)
      width: 40px

      &.electric:after
        background-image: url(/svgs/electric.svg)
        background-position: 5px 100%
        background-size: 18% auto
        margin-bottom: 3px

    &.carriage
      background-image: url(/svgs/carriage.svg)
      width: 0
      margin: 0
      @include transition(opacity .2s, width .2s .2s, margin .2s .2s)

      &.is-active
        width: 34px
        margin: 0 4px 0 0
        @include transition(opacity .2s .2s, width .2s, margin .2s)

/* === Thermometer === */

.thermometer
  bottom: 146px
  left: 905px
  width: 12px
  height: 40px

  &[data-value="1"]
    background-image: url(/svgs/thermometer_3.svg)

  &[data-value="2"]
    background-image: url(/svgs/thermometer_5.svg)

  &[data-value="3"]
    background-image: url(/svgs/thermometer_4.svg)

  &[data-value="4"]
    background-image: url(/svgs/thermometer_3.svg)

  &[data-value="5"]
    background-image: url(/svgs/thermometer_2.svg)

/* === Windfarms === */

.windfarm
  position: absolute
  height: 22px

  i
    display: inline-block
    position: relative

  &.land
    top: -2px
    left: 1080px

    .turbine
      background-image: url(/svgs/turbine_land.svg)
      width: 12px
      height: 22px

  &.sea
    top: 32px
    left: 665px

    .turbine
      background-image: url(/svgs/turbine_sea.svg)
      width: 12px
      height: 22px

/* === IE Fixes === */

.ie #landscape-layer-2,
.ie #landscape-layer-2:before
  background-position: 108% -23px

/*.ie #landscape-layer-2:after
  background-position: -396px -*/
.ie9
  .cow
    // no black outlines please
    filter: none
    -ms-filter: none

  // css dial... ie9 flips bg images whilst rotating >:0
  .meter
    background: $color-highlight
    height: 3px
    width: 40px

    &:before
      content: ''
      width: 5px
      height: 5px
      border-radius: 50%
      background: $color-highlight
      position: absolute
      bottom: -1px
      right: 0

  .home-meter
    bottom: 60px
    left: 775px

  .home-cooker
    .hob
      &.left
        background-size: 100%
        height: 10px

  .commercial-meter
    bottom: 90px
    left: 170px

i
  opacity: 1!important